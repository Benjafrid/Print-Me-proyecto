<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="general.css">
    <link rel="stylesheet" href="pantallainicio.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
   
</head>
<body>
    <nav>
        <button id="menu-icon">
            &#9776;
        </button>
        <div class="contenedor-opciones">
            <div>
                <h1><a href="./pantallainiciodueño.html">Inicio</a></h1>
            </div>
            <div>
                <h1><a href="./miperfil.html"> Mi perfil</a></h1>
            </div>
            <div>
                <h1><a href="./cotizador.html"> Cotizador </a></h1>
            </div>
            <div>
                <h1><a href="quienessomosduenio.html"> Quienes Somos</a></h1>
            </div>
            <h1><a id="cerrarSesion" href="../general/index.html">Cerrar Sesión</a></h1>
            <div id="VentanaConfirmar" class="modal">
                <div class="modal-content">
                    <p>¿Seguro que quieres cerrar sesión?</p>
                    <button id="confirmarBtn" class="btn btn-confirm">Sí, confirmar</button>
                    <button id="cancelarBtn" class="btn btn-cancel">No, volver atrás</button>
                </div>
            </div>
        </div>
    </nav>

    <script>
        const enlace = document.getElementById('cerrarSesion');
        const modal = document.getElementById('VentanaConfirmar');
        const confirmarBtn = document.getElementById('confirmarBtn');
        const cancelarBtn = document.getElementById('cancelarBtn');

        // Mostrar el modal al hacer clic en el enlace
        enlace.addEventListener('click', function(event) {
            event.preventDefault(); // Evitar la navegación
            modal.style.display = 'block'; // Mostrar el modal
        });

        // Confirmar y proceder a la navegación
        confirmarBtn.onclick = function() {
            window.location.href = enlace.href; // Navegar a la URL
        }

        // Cancelar y cerrar el modal
        cancelarBtn.onclick = function() {
            modal.style.display = 'none';
        }
    </script>

    <script>
        // JavaScript para el menú
        const btn = document.getElementById('menu-icon');
        const menu = document.querySelector('.contenedor-opciones');
        let isMenuOpen = false;

        // Función para alternar el estado del menú
        function toggleMenu() {
            menu.style.display = isMenuOpen ? 'none' : 'block';
            isMenuOpen = !isMenuOpen;
        }

        // Función para cerrar el menú al hacer clic fuera
        function closeMenu(event) {
            if (isMenuOpen && !menu.contains(event.target) && !btn.contains(event.target)) {
                menu.style.display = 'none';
                isMenuOpen = false;
            }
        }

        // Agregar el manejador de eventos al botón de menú
        btn.addEventListener('click', toggleMenu);

        // Agregar el manejador de eventos al documento para cerrar el menú
        document.addEventListener('click', closeMenu);
    </script>

    <h1>Mi perfil</h1>

    <form action="/ruta/del/servidor" method="get">
        <label for="Descripcion">Descripcion:</label>
        <input type="text" id="Descripcion" name="Descripcion" value="Valor desde la base de datos" class="disabled" disabled>
        <button type="button" class="edit-button" onclick="editField('Descripcion')">
            <i class="fas fa-pencil-alt"></i>
        </button>
        <br><br>

        <label for="Nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" value="Valor desde la base de datos" class="disabled" disabled>
        <button type="button" class="edit-button" onclick="editField('nombre')">
            <i class="fas fa-pencil-alt"></i>
        </button>
        <br><br>

        <label for="Apellido">Apellido:</label>
        <input type="text" id="apellido" name="apellido" value="Valor desde la base de datos" class="disabled" disabled>
        <button type="button" class="edit-button" onclick="editField('apellido')">
            <i class="fas fa-pencil-alt"></i>
        </button>
        <br><br>



        <label for="Email">Email:</label>
        <input type="email" id="email" name="email" value="Valor desde la base de datos" class="disabled" disabled>
        <button type="button" class="edit-button" onclick="editField('email')">
            <i class="fas fa-pencil-alt"></i>
        </button>
        <br><br>
 
        <div class="dropdown">  
            <h3>Elige tu impresora <span class="arrow">▼</span></h3>
            <ul class="dropdown-content">
                <li>Impresora1</li>
                <li>Impresora2</li>
                <li>Impresora3</li>
            </ul>
            <br><br>
        </div>

    
        <script>
            document.querySelector('.arrow').addEventListener('click', function() {
                const dropdownContent = document.querySelector('.dropdown-content');
                dropdownContent.style.display = dropdownContent.style.display === 'block' ? 'none' : 'block';
            });
    
            // Close the dropdown if the user clicks outside of it
            window.addEventListener('click', function(e) {
                if (!e.target.matches('.arrow')) {
                    const dropdowns = document.getElementsByClassName("dropdown-content");
                    for (let i = 0; i < dropdowns.length; i++) {
                        let openDropdown = dropdowns[i];
                        if (openDropdown.style.display === 'block') {
                            openDropdown.style.display = 'none';
                        }
                    }
                }
            });
        </script>
    
    </body>

        <label for="tuimpresora">Tu Impresora:</label>
        <input type="text" id="tuimpresora" name="tuimpresora" value="Valor desde la base de datos" class="disabled" disabled>
        <button type="button" class="edit-button" onclick="editField('tuimpresora')">
            <i class="fas fa-pencil-alt"></i>
        </button>
        <br><br>

        <label for="contraseña">Contraseña:</label>
        <input type="password" id="contraseña" name="contraseña" value="Valor desde la base de datos" class="disabled" disabled>
        <button type="button" class="edit-button" onclick="editField('contraseña')">
            <i class="fas fa-pencil-alt"></i>
        </button>
        <br><br>
    </form>

    <script>
        function editField(id) {
            var field = document.getElementById(id);
            field.disabled = false; // Habilita el campo para edición
            field.classList.remove('disabled'); // Elimina la clase de estilo deshabilitado

            // Cambiar el botón a un botón de guardar
            var button = field.nextElementSibling;
            button.innerHTML = '<i class="fas fa-save"></i>';
            button.setAttribute('onclick', 'saveField("' + id + '")');
        }

        function saveField(id) {
            var field = document.getElementById(id);
            field.disabled = true; // Deshabilita el campo nuevamente
            field.classList.add('disabled'); // Agrega la clase de estilo deshabilitado

            // Cambiar el botón a un botón de edición
            var button = field.nextElementSibling;
            button.innerHTML = '<i class="fas fa-pencil-alt"></i>';
            button.setAttribute('onclick', 'editField("' + id + '")');

            // Aquí puedes agregar código para guardar los cambios en el servidor
            alert('Cambios guardados para el campo: ' + id);
        }
    </script>
</body>
</html>
