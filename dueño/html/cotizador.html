<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cotizador de Impresión 3D</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="../html/coti.css">
    <link rel="stylesheet" href="../../general/topbar.css">
    <link rel="stylesheet" href="../../general/cerrar.css">
    <script src="../js/miperfiluser.js"></script>
</head>
<body>

    <header>
        <div clas s="card">
            <div class="loader">
              <p>PrintMe</p>
              <div class="words">
                <span class="word">1 Entras</span>
                <span class="word">2 Elegis</span>
                <span class="word">3 Mandas</span>
                <span class="word">4 Te imprimen</span>
                <span class="word">5 Recibis</span>
              </div>
            </div>
          </div>     
          
          <button id="abrir" class="abrir-menu"><i class="bi bi-list"></i></button>
           <nav id="nav" class="nav">
            <button id="cerrar" class="cerrar-menu"><i class="bi bi-x"></i></button>
            <ul class="nav-list">
                <li><a href="../html/miperfilduenio.html">Mi perfil</a></li>
                <li><a href="../html/cotizador.html">Cotizador</a></li>
                <li><a href="../html/inicio.html">Pedidos</a></li>
             




<!-- Botón que abre el popup de cerrar sesión -->
<button class="logout-button" onclick="togglePopupLogout()">Cerrar Sesión</button>

<!-- Contenedor del Popup de Cerrar Sesión -->
<div class="popup-container-logout" id="popup-container-logout">
    <h2>¿Estás seguro?</h2>
    <!-- Contenedor de botones para alinearlos en una fila -->
    <div class="button-container-logout">
        <button class="popup-button-logout confirm-button-logout" onclick="cerrarSesion()">Sí, cerrar sesión</button>
        <button class="popup-button-logout cancel-button-logout" onclick="togglePopupLogout()">Cancelar</button>
    </div>
</div>

<!-- Fondo Oscurecido para el popup de Cerrar Sesión -->
<div class="overlay-logout" onclick="togglePopupLogout()"></div>




<script>
    // Función para mostrar y ocultar el popup específico de cerrar sesión
    function togglePopupLogout() {
        const popup = document.getElementById("popup-container-logout");
        const overlay = document.querySelector(".overlay-logout");

        if (popup.style.display === "none" || !popup.style.display) {
            popup.style.display = "block";
            overlay.style.display = "block";
        } else {
            popup.style.display = "none";
            overlay.style.display = "none";
        }
    }
</script>


            </ul>
           </nav>
    </header>

    <main>
        <div class="profile-container">
            <h1>Cotizador de Impresión 3D</h1>
            <form>
                <!-- Costo de electricidad -->
                <div class="field-container">
                    <div class="input-group">
                        <label for="costoElectricidad" class="label">Costo de electricidad (por hora)</label>
                        <div class="input-wrapper">
                            <input type="number" id="costoElectricidad" placeholder="Ingrese costo de electricidad" required>
                        </div>
                    </div>
                </div>

                <!-- Costo de filamento -->
                <div class="field-container">
                    <div class="input-group">
                        <label for="costoFilamento" class="label">Costo de filamento (por kg)</label>
                        <div class="input-wrapper">
                            <input type="number" id="costoFilamento" placeholder="Ingrese costo de filamento" required>
                        </div>
                    </div>
                </div>  

                <!-- Gramos de filamento usados -->
                <div class="field-container">
                    <div class="input-group">
                        <label for="gramos" class="label">Gramos de filamento usados</label>
                        <div class="input-wrapper">
                            <input type="number" id="gramos" placeholder="Ingrese gramos de filamento" required>
                        </div>
                    </div>
                </div> 

                <!-- Botón de cotización -->
                <button type="button" class="recuperar-contra" onclick="calcularCotizacion()">Cotizar Impresión</button>
            </form>
        </div>

        <!-- Popup de Cotización -->
        <div class="cotizacion-popup" id="cotizacion-popup">
            <h2>Cotización Realizada</h2>
            <p id="cotizacionResultado">Precio total: $</p>
            <button class="recuperar-contra" onclick="togglePopup()">Cerrar</button>
        </div>
        <div class="overlay" onclick="togglePopup()"></div>
    </main>

    <script>
        // Función para calcular la cotización
        function calcularCotizacion() {
            const costoElectricidad = parseFloat(document.getElementById("costoElectricidad").value) || 0;
            const costoFilamento = parseFloat(document.getElementById("costoFilamento").value) || 0;
            const gramos = parseFloat(document.getElementById("gramos").value) || 0;

            // Cálculo del precio total
            const precioTotal = (costoElectricidad * 1) + (costoFilamento * (gramos / 1000));

            // Mostrar el resultado en el popup
            document.getElementById("cotizacionResultado").innerText = `Precio total: $${precioTotal.toFixed(2)}`;
            togglePopup();
        }

        // Función para mostrar y ocultar el popup
        function togglePopup() {
            const popup = document.getElementById("cotizacion-popup");
            const overlay = document.querySelector(".overlay");

            if (popup.style.display === "none" || !popup.style.display) {
                popup.style.display = "block";
                overlay.style.display = "block";
            } else {
                popup.style.display = "none";
                overlay.style.display = "none";
            }
        }
    </script>

    <style>
        /* Estilos generales */
        .profile-container {
            background-color: #e0e0e0;
            padding: 50px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 60%;
            margin: auto;
            margin-top: 50px;
            text-align: left; /* Alinear texto a la izquierda */
        }

        h1 {
            margin-bottom: 40px; /* Aumentar el espacio entre el título y los inputs */
        }

        .field-container {
            margin-bottom: 20px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        .input-wrapper input {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border: 2px solid #ccc;
            border-radius: 4px;
            background-color: #f9f9f9;
            color: #333;
            margin-bottom: 10px;
            /* Eliminar las flechas de los inputs de tipo number */
            -moz-appearance: textfield; /* Firefox */
        }

        .input-wrapper input::-webkit-inner-spin-button,
        .input-wrapper input::-webkit-outer-spin-button {
            -webkit-appearance: none; /* Chrome, Safari */
            margin: 0; /* Remover margen */
        }

        .recuperar-contra {
            background-color: #1d2a61;
            color: #ffffff;
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease;
        }

        .recuperar-contra:hover {
            background-color: #132147;
        }

        /* Estilo de contenedor emergente */
        .cotizacion-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #ffffff;
            padding: 40px; /* Aumentar padding en la ventana emergente */
            border-radius: 10px;
            box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            text-align: center;
        }

        /* Fondo de pantalla oscurecido */
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }
    </style>

</body>
</html>
